import{L as r,p as v,s as p,c as n}from"./tui-lib-pagination-22a949a9.js";const s=document.querySelector(".favorite-cocktails-list"),o=document.querySelector(".placeholder-empty-favorite-list");function L(){const a=JSON.parse(localStorage.getItem(r.COCKTAILS))||[];if(!a.length){s.classList.add("visually-hidden"),o.classList.remove("visually-hidden"),o.closest(".favorite-section").classList.add("is-empty");return}o.classList.add("visually-hidden"),o.closest(".favorite-section").classList.remove("is-empty"),s.classList.remove("visually-hidden");const e=v(a,6,s,n);console.log(e),s.addEventListener("click",i=>{f(i,e)}),p(s,n,e)}function f(a,e){const i=a.target.closest(".remove-from-localstorage-btn");if(!i)return;const u=i.closest(".cocktail-card").dataset.id;let t=JSON.parse(localStorage.getItem(r.COCKTAILS))||[];const d=t.findIndex(l=>l._id===u);if(d!==-1&&(t.splice(d,1),localStorage.setItem(r.COCKTAILS,JSON.stringify(t))),!t.length)s.classList.add("visually-hidden"),o.classList.remove("visually-hidden"),o.closest(".favorite-section").classList.add("is-empty");else{console.log(e);const l=e.getCurrentPage();console.log("curPage: ",l);const c=e._options.itemsPerPage;console.log("itemsPerPage: ",c),e.setTotalItems(t.length);const g=e._options.totalItems;console.log("totalItems ",g);const m=(l-1)*c;s.innerHTML=n(t.slice(m,m+c)),g%c===0&&(e.reset(t.length),e.movePageTo(l-1)),console.log("products: ",t)}}L();
