import"./sprite-81a4ee87.js";import{L as i,p as f,s as S,c as n}from"./tui-lib-pagination-512023fd.js";const s=document.querySelector(".favorite-cocktails-list"),o=document.querySelector(".placeholder-empty-favorite-list");function y(){const a=JSON.parse(localStorage.getItem(i.COCKTAILS))||[];if(!a.length){s.classList.add("visually-hidden"),o.classList.remove("visually-hidden"),o.closest(".favorite-section").classList.add("is-empty");return}o.classList.add("visually-hidden"),o.closest(".favorite-section").classList.remove("is-empty"),s.classList.remove("visually-hidden");localStorage.setItem(i.CURRENT_DATA,JSON.stringify(a));const e=f(6,s,n);s.addEventListener("click",l=>{C(l,e)}),S(s,n,e)}function C(a,e){var u;const l=a.target.closest(".remove-from-localstorage-btn");if(!l)return;const p=l.closest(".cocktail-card").dataset.id;let t=JSON.parse(localStorage.getItem(i.COCKTAILS))||[];const d=t.findIndex(L=>L._id===p);if(d!==-1&&(t.splice(d,1),localStorage.setItem(i.COCKTAILS,JSON.stringify(t)),localStorage.setItem(i.CURRENT_DATA,JSON.stringify(t))),!t.length){s.classList.add("visually-hidden"),o.classList.remove("visually-hidden"),o.closest(".favorite-section").classList.add("is-empty");return}const v=document.querySelector("#tui-pagination-container");if(t.length<=((u=e==null?void 0:e._options)==null?void 0:u.itemsPerPage)){v.classList.add("is-hidden"),s.innerHTML=n(t);return}const r=e.getCurrentPage(),c=e._options.itemsPerPage;e.setTotalItems(t.length);const m=e._options.totalItems,g=(r-1)*c;s.innerHTML=n(t.slice(g,g+c)),m%c===0&&(e.reset(t.length),r*c>m?e.movePageTo(r-1):e.movePageTo(r))}y();
