import{L as r,p as v,g as I,r as f,a as u,b as L,d}from"./tui-lib-pagination-7a3dcb7b.js";const o=document.querySelector(".favorite-ingredients-list"),a=document.querySelector(".placeholder-empty-favorite-list");function p(){const i=JSON.parse(localStorage.getItem(r.INGREDIENTS))||[];if(!i.length){o.classList.add("visually-hidden"),a.classList.remove("visually-hidden"),a.closest(".favorite-section").classList.add("is-empty");return}const e=v(i,6,o,d);a.classList.add("visually-hidden"),a.closest(".favorite-section").classList.remove("is-empty"),o.classList.remove("visually-hidden"),o.addEventListener("click",t=>{y(t,e)})}function y(i,e){const t=i.target;t.closest(".remove-from-localstorage-btn")&&h(t,e),t.closest(".learn-more-btn")&&S(t,e)}async function S(i,e){const t=i.closest(".favorite-ingredient-item").dataset.id,s=await I(t);f(...s),u(),L(s,r.INGREDIENTS,d,e)}function h(i,e){const t=i.closest(".favorite-ingredient-item").dataset.id;let s=JSON.parse(localStorage.getItem(r.INGREDIENTS))||[];const c=s.findIndex(n=>n._id===t);if(c!==-1&&(s.splice(c,1),localStorage.setItem(r.INGREDIENTS,JSON.stringify(s))),!s.length)o.classList.add("visually-hidden"),a.classList.remove("visually-hidden"),a.closest(".favorite-section").classList.add("is-empty");else{const n=e.getCurrentPage(),l=e._options.itemsPerPage;e.setTotalItems(s.length);const m=e._options.totalItems,g=(n-1)*l;o.innerHTML=d(s.slice(g,g+l)),m%l===0&&(e.reset(s.length),e.movePageTo(n-1))}}p();
