import{L as n,p as d,b as o,g as c,r as g,d as m,e as v}from"./setup-handlers-4d248331.js";const s=document.querySelector(".favorite-ingredients-list"),a=document.querySelector(".placeholder-empty-favorite-list");let f=6;function I(){const t=JSON.parse(localStorage.getItem(n.INGREDIENTS))||[];if(!t.length)return;const e=d(t,f,s,o);a.classList.add("visually-hidden"),a.closest(".favorite-section").classList.remove("is-empty"),s.classList.remove("visually-hidden"),s.innerHTML=o(e),s.addEventListener("click",L)}function L(t){const e=t.target;e.closest(".remove-from-localstorage-btn")&&u(e),e.closest(".learn-more-btn")&&p(e)}async function p(t){const e=t.closest(".favorite-ingredient-item").dataset.id,i=await c(e);g(...i),m(),v(i,n.INGREDIENTS,o)}function u(t){const e=t.closest(".favorite-ingredient-item").dataset.id;let i=JSON.parse(localStorage.getItem(n.INGREDIENTS))||[];const r=i.findIndex(l=>l._id===e);r!==-1&&(i.splice(r,1),localStorage.setItem(n.INGREDIENTS,JSON.stringify(i))),i.length?s.innerHTML=o(i):(s.classList.add("visually-hidden"),a.classList.remove("visually-hidden"),a.closest(".favorite-section").classList.add("is-empty"))}I();
