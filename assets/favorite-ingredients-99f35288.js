import{L as a,p as d,b as o,g as c,r as g,d as v,e as m}from"./setup-handlers-6e2b8eb9.js";const i=document.querySelector(".favorite-ingredients-list"),n=document.querySelector(".placeholder-empty-favorite-list");let L=6;function f(){const t=JSON.parse(localStorage.getItem(a.INGREDIENTS))||[];if(!t.length){i.classList.add("visually-hidden"),n.classList.remove("visually-hidden"),n.closest(".favorite-section").classList.add("is-empty");return}const e=d(t,L,i,o);n.classList.add("visually-hidden"),n.closest(".favorite-section").classList.remove("is-empty"),i.classList.remove("visually-hidden"),i.innerHTML=o(e),i.addEventListener("click",u)}function u(t){const e=t.target;e.closest(".remove-from-localstorage-btn")&&p(e),e.closest(".learn-more-btn")&&I(e)}async function I(t){const e=t.closest(".favorite-ingredient-item").dataset.id,s=await c(e);g(...s),v(),m(s,a.INGREDIENTS,o)}function p(t){const e=t.closest(".favorite-ingredient-item").dataset.id;let s=JSON.parse(localStorage.getItem(a.INGREDIENTS))||[];const r=s.findIndex(l=>l._id===e);r!==-1&&(s.splice(r,1),localStorage.setItem(a.INGREDIENTS,JSON.stringify(s))),s.length?i.innerHTML=o(s):(i.classList.add("visually-hidden"),n.classList.remove("visually-hidden"),n.closest(".favorite-section").classList.add("is-empty"))}f();
