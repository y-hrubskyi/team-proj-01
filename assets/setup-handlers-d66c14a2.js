import{g,r as f,a as r,b as u,d as I}from"./drinkify-api-service-1ea9aee7.js";function v(o,s,t){const e=JSON.parse(localStorage.getItem(t))||[];e.find(c=>c._id===o._id)||(e.push(o),localStorage.setItem(t,JSON.stringify(e)),s.classList.add("is-active"),console.log("Карта в ЛОКАЛСТОРДЖ"))}function S(o,s,t){const e=JSON.parse(localStorage.getItem(t))||[],n=e.findIndex(c=>c._id===o._id);n!==-1&&(e.splice(n,1),localStorage.setItem(t,JSON.stringify(e)),s.classList.remove("is-active"),console.log("Карта в удалена с ЛОКАЛСТОРДЖ"))}function k(o,s,t){s.addEventListener("click",function(e){const n=e.target.closest(".add-to-localstorage-btn");if(n){const c=n.closest(".cocktail-card").dataset.id,a=o.find(i=>i._id===c);if(a){const i=n.querySelector(".svg-icon-heart");i.classList.contains("is-active")?S(a,i,t):v(a,i,t)}}})}async function m(o){o.addEventListener("click",async function(s){const t=s.target.closest(".learn-more-btn");if(!t)return;const e=t.closest(".cocktail-card").dataset.id;try{const n=await g(e);f(...n),r(),document.querySelector(".per-cocktail-ingredients-list").addEventListener("click",async function(a){const i=a.target.closest(".per-cocktail-ingredient-btn");if(!i)return;const d=i.dataset.id,l=await u(d);I(...l),r()})}catch(n){console.log(n)}})}export{k as a,m as s};
